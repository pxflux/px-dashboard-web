main {
  margin-top: $module-size; // + $outline-width;
}

.text-block {
  padding: $module-size;
}

.row{
  display: flex;
  flex-flow: row nowrap;

  .row-header{
    flex-grow: 1;
  }
}
.cell{
  @include hairline-border();
  background: $bg-color;
}

.wrap-content {
  display: flex;

  &:not(.grid) {
    flex-flow: row nowrap;
  }

  &.grid {
    display: flex;
    flex-flow: row wrap;
    @include on-retina() {
      transform: translate(0, 0.5px); // compensate hairline borders
    }

    a {
      color: #292929;
    }
  }

  .content {
    flex-grow: 1;
    padding: 0 $module-size/2 $module-size $module-size;

    h1{
      margin: 0;
    }

    .by-string li{
        display: inline-block;
        &:not(:last-child):after{
          content: " \0026\00a0";
        }
      }
    .work-meta{
      color: #000;

      span:not(:last-child):after{
        content: "\2002|\2002";
      }
    }
  }
  .sidebar {
    width: 5 * $module-size;
  }
}

.item-wrap,
.grid-cell,
.grid-cell-placeholder {
  width: 100vw;
  height: 100vw;
  position: relative;
  background: $bg-color;

  @include grey-outline();

  @media (min-width: 500px) {
    width: 50vw;
    height: 50vw;
  }
  @media (min-width: 750px) {
    width: 33.333vw;
    height: 33.333vw;
  }
  @media (min-width: 1000px) {
    width: 20vw;
    height: 20vw;
  }
}

.item-image-wrap {
  overflow: hidden;
  position: absolute;
  width: calc(100% - #{$module-size});
  height: calc(100% - #{$module-size*1.5});
  @include centered(0, 50%);
  top: $module-size/2;

  img {
    height: 100%;
    width: auto;
    position: absolute;
    top: 0;
    left: 50%;
    transform: translate(-50%);
  }
}

.item-image {
  width: 100%;
  height: 100%;
}

.no-image {
}

.item-description {
  position: absolute;
  width: 100%;
  bottom: 0;
  background: rgba(255, 255, 255, 0.8);
  color: black;
  padding: 0.5em 0.5em;

  span {
    font-size: 0.7em;
  }
  span.item-title {
    font-size: 1em;
    display: block;
  }

}

iframe.work-preview {
  width: 100%;
  height: 100%;
}

.proportional-height {
  position: relative;
  height: 0;
  padding: 50% 0 0 0;
  & > * {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  iframe, img {
    width: 100%;
    height: 100%;
  }
}

*:not(button).overlay {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

@import "attachments";
@import "sidebar";